(function(t){function e(e){for(var o,a,i=e[0],u=e[1],l=e[2],p=0,d=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},s={app:0},r=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var c=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),s=n.n(o);s.a},2624:function(t,e,n){},"398e":function(t,e,n){},"3c10":function(t,e,n){"use strict";var o=n("9dac"),s=n.n(o);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",[n("h1",{staticClass:"title"},[t._v("Список заданий")]),n("hr"),n("div",{staticClass:"bar"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.filter.name,expression:"filter.name",modifiers:{trim:!0}}],attrs:{placeholder:"фильровать по названию"},domProps:{value:t.filter.name},on:{input:function(e){e.target.composing||t.$set(t.filter,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"status",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"0"}},[t._v("все")]),n("option",{attrs:{value:"1"}},[t._v("выполненные")]),n("option",{attrs:{value:"2"}},[t._v("невыполненные")])]),n("AddTaskBtn",{attrs:{groups:t.groups},on:{confirm:t.addTask}}),n("AddGroupBtn",{on:{confirm:t.addGroup}})],1)]),n("main",[n("ul",t._l(t.taskByGroup,(function(e,o){return n("li",{key:"group-"+o},[n("CardGroup",{attrs:{group:e},on:{"delete-group":t.deleteGroup,"add-task":t.addTask,"delete-task":t.deleteTask,"change-status":t.changeStatus,"change-task-group":t.changeTaskGroup}})],1)})),0)])])},r=[],a=(n("4de4"),n("7db0"),n("c740"),n("caad"),n("c975"),n("d81d"),n("a434"),n("b0c0"),n("2532"),function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"card group",attrs:{"data-group-name":e.group.name}},["без группы"!==e.group.name?o("header",{class:["bar",(t={},t["drop-down"]=!!e.group.tasks.length,t.opened=e.isOpened,t)],on:{click:function(t){return t.target!==t.currentTarget?null:e.toggle(t)}}},[o("h2",{staticClass:"title"},[e._v(e._s(e.group.name))]),o("div",{staticClass:"align-center"},[o("AddTaskBtn",{attrs:{groups:[e.group.name]},on:{confirm:function(t){return e.$emit("add-task",t)}}}),o("DeleteBtn",{attrs:{action:"удалить",name:e.group.name},on:{confirm:function(t){return e.$emit("delete-group",e.group.name)}}})],1)]):e._e(),o("main",[e.isOpened?o("ul",e._l(e.group.tasks,(function(t,n){return o("li",{key:"group-"+n+"-task-"+t},[o("TaskCard",{attrs:{task:t},on:{"delete-task":function(t){return e.$emit("delete-task",t)},"change-status":function(t){return e.$emit("change-status",t)},"change-task-group":function(t){return e.$emit("change-task-group",t)}}})],1)})),0):e._e()])])}),i=[],u=function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"card task",on:{mousedown:e.mouseDown}},[o("header",{class:["bar",(t={},t["drop-down"]=!e.isShort,t.opened=e.isOpened,t)],on:{click:function(t){return t.target!==t.currentTarget?null:e.toggle(t)}}},[o("div",{staticClass:"align-center"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.task.isCompleted,expression:"task.isCompleted"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.task.isCompleted)?e._i(e.task.isCompleted,null)>-1:e.task.isCompleted},on:{change:function(t){var n=e.task.isCompleted,o=t.target,s=!!o.checked;if(Array.isArray(n)){var r=null,a=e._i(n,r);o.checked?a<0&&e.$set(e.task,"isCompleted",n.concat([r])):a>-1&&e.$set(e.task,"isCompleted",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.task,"isCompleted",s)}}}),o("h3",{class:["title",{through:e.status}]},[e._v(e._s(e.task.name))])]),o("div",{staticClass:"align-center"},[o("DeleteBtn",{attrs:{action:"удалить",name:e.task.name},on:{confirm:function(t){return e.$emit("delete-task",e.task)}}})],1)]),e.task.description?o("main",[o("p",[e._v(e._s(e.description))])]):e._e()])},l=[],c=(n("a4d3"),n("e01a"),n("5530")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("dialog-btn",{attrs:{isOpenDialog:t.isOpenDialog,color:"#ff6666"},on:{"is-open-dialog":function(e){t.isOpenDialog=e}},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Подтвердите действие")]},proxy:!0},{key:"main",fn:function(){return[n("p",[t._v(" Вы действительно хотите "),n("b",[t._v(t._s(t.action)+' "'+t._s(t.name)+'"')]),t._v("? ")])]},proxy:!0},{key:"footer",fn:function(){return[n("button",{on:{click:t.confirm}},[t._v(t._s(t.action))])]},proxy:!0}])},[t._v(" "+t._s(t.action)+" ")])],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{style:{backgroundColor:t.color},on:{click:function(e){t.isOpen=!0}}},[t._t("default")],2),t.isOpen?n("DialogModal",{on:{close:function(e){t.isOpen=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[t._t("header")]},proxy:!0},{key:"main",fn:function(){return[t._t("main")]},proxy:!0},{key:"footer",fn:function(){return[t._t("footer")]},proxy:!0}],null,!0)}):t._e()],1)},f=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal align-center"},[n("div",{staticClass:"container card"},[n("header",{staticClass:"bar"},[n("h2",{staticClass:"title"},[t._t("header")],2),n("div",{staticClass:"align-center"},[n("button",{on:{click:t.close}},[t._v("X")])])]),n("main",{staticClass:"card"},[t._t("main")],2),n("footer",{staticClass:"bar"},[t._t("footer"),n("button",{on:{click:t.close}},[t._v("Отмена")])],2)])])},h=[],v={methods:{close:function(){this.$emit("close")}}},k=v,_=(n("5980"),n("2877")),y=Object(_["a"])(k,g,h,!1,null,"f19cf78c",null),b=y.exports,O={props:["isOpenDialog","color"],components:{DialogModal:b},computed:{isOpen:{get:function(){return this.isOpenDialog},set:function(t){this.$emit("is-open-dialog",t)}}}},x=O,C=Object(_["a"])(x,m,f,!1,null,null,null),w=C.exports,$={props:["action","name"],components:{DialogBtn:w},data:function(){return{isOpenDialog:!1}},methods:{confirm:function(){this.$emit("confirm"),this.isOpenDialog=!1}}},D=$,j=Object(_["a"])(D,p,d,!1,null,null,null),T=j.exports,G={components:{DeleteBtn:T},props:["task"],data:function(){return{isOpened:!1,targetGroup:null}},computed:{status:{get:function(){return this.task.isCompleted},set:function(t){this.$emit("change-status",{name:this.task.name,group:this.task.group,isCompleted:t})}},isShort:function(){return!this.task.description||this.task.description.length<150},description:function(){return this.task.description&&(this.isShort||this.isOpened)?this.task.description:this.task.description.substr(0,150)+"..."}},methods:{toggle:function(){this.isShort||(this.isOpened=!this.isOpened)},mouseDown:function(t){var e=this,n=t.target.closest(".task"),o=n.cloneNode(!0);o.style.position="absolute",o.style.zIndex=1e3,this.moveAt(o,t);var s=function(t){n.mouseout||(n.onmouseout=function(){document.body.appendChild(o),n.onmouseup=null,n.onmouseout=null}),e.moveAt(o,t)};n.onmouseup=function(){document.removeEventListener("mousemove",s),n.onmouseup=null,n.onmouseout=null,o.remove()},document.addEventListener("mousemove",s),o.onmouseup=function(){o.remove(),o.onmouseup=null,n.onmouseup=null,n.onmouseout=null,document.removeEventListener("mousemove",s),e.targetGroup&&e.targetGroup!==e.task.group&&e.$emit("change-task-group",Object(c["a"])({newGroup:e.targetGroup},e.task))}},moveAt:function(t,e){var n=e.pageX,o=e.pageY,s=document.elementsFromPoint(n,o).find((function(t){return t.classList.contains("group")}));s&&(this.targetGroup=s.getAttribute("data-group-name")),t.style.left=n-t.offsetWidth/2+"px",t.style.top=o-t.offsetHeight/2+"px"}}},A=G,B=(n("3c10"),Object(_["a"])(A,u,l,!1,null,"f1277ef6",null)),P=B.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("dialog-btn",{attrs:{isOpenDialog:t.isOpenDialog},on:{"is-open-dialog":function(e){t.isOpenDialog=e}},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Добавление задачи")]},proxy:!0},{key:"main",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.task.name,expression:"task.name"}],attrs:{placeholder:"название"},domProps:{value:t.task.name},on:{input:function(e){e.target.composing||t.$set(t.task,"name",e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task.description,expression:"task.description"}],attrs:{placeholder:"описание"},domProps:{value:t.task.description},on:{input:function(e){e.target.composing||t.$set(t.task,"description",e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.task.group,expression:"task.group"}],attrs:{disabled:1===t.groups.length},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.task,"group",e.target.multiple?n:n[0])}}},t._l(t.groups,(function(e){return n("option",{key:"option-group-"+e,domProps:{value:e}},[t._v(t._s(e))])})),0)]},proxy:!0},{key:"footer",fn:function(){return[n("button",{attrs:{disabled:!t.task.name},on:{click:t.confirm}},[t._v("Добавить")])]},proxy:!0}])},[t._v(" Добавить задание ")])],1)},E=[],L={props:["groups"],components:{DialogBtn:w},data:function(){return{isOpenDialog:!1,task:{name:null,description:null,group:"null"}}},methods:{confirm:function(){this.$emit("confirm",Object(c["a"])(Object(c["a"])({},this.task),{},{isCompleted:!1})),this.isOpenDialog=!1}},updated:function(){this.task.name=null,this.task.description=null,this.task.group=this.groups[0]}},I=L,N=(n("5ce1"),Object(_["a"])(I,S,E,!1,null,"0fb092c7",null)),M=N.exports,R={props:["group"],components:{TaskCard:P,AddTaskBtn:M,DeleteBtn:T},data:function(){return{isOpened:!0}},methods:{toggle:function(){this.group.tasks.length&&(this.isOpened=!this.isOpened)}}},J=R,X=(n("9405"),Object(_["a"])(J,a,i,!1,null,"57f09176",null)),z=X.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("dialog-btn",{attrs:{isOpenDialog:t.isOpenDialog},on:{"is-open-dialog":function(e){t.isOpenDialog=e}},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Добавление группы")]},proxy:!0},{key:"main",fn:function(){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"название"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]},proxy:!0},{key:"footer",fn:function(){return[n("button",{attrs:{disabled:!t.name},on:{click:t.confirm}},[t._v("Добавить")])]},proxy:!0}])},[t._v(" добавить группу ")])],1)},H=[],U={components:{DialogBtn:w},data:function(){return{isOpenDialog:!1,name:null}},methods:{confirm:function(){this.$emit("confirm",this.name),this.isOpenDialog=!1}},updated:function(){this.name=null}},W=U,Y=Object(_["a"])(W,F,H,!1,null,null,null),q=Y.exports,K={name:"todo-app",components:{CardGroup:z,AddTaskBtn:M,AddGroupBtn:q},data:function(){return{modal:!1,groups:["без группы","group 1","rRRR"],tasks:[{name:"dsa",description:"dsadsadsa",isCompleted:!0,group:"без группы"},{name:"asd",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",isCompleted:!1,group:"group 1"}],filter:{name:null,status:"0"}}},computed:{filterTasks:function(){var t=this;return this.tasks.filter((function(e){return t.filter.name?e.name.toLowerCase().includes(t.filter.name.toLowerCase()):e})).filter((function(e){return 0==t.filter.status?e:1==t.filter.status?!0===e.isCompleted:!1===e.isCompleted}))},taskByGroup:function(){var t=this;return this.groups.map((function(e){return{name:e,tasks:t.filterTasks.filter((function(t){return t.group===e}))}}))}},methods:{addGroup:function(t){this.groups.push(t)},deleteGroup:function(t){this.groups.splice(this.groups.indexOf(t),1)},addTask:function(t){this.tasks.push(t)},deleteTask:function(t){this.tasks.splice(this.tasks.findIndex((function(e){return t.name===e.name&&t.group===e.group})),1)},changeStatus:function(t){this.tasks.find((function(e){return t.name===e.name&&t.group===e.group})).isCompleted=t.isCompleted},changeTaskGroup:function(t){this.tasks.find((function(e){return t.name===e.name&&t.group===e.group})).group=t.newGroup}}},Q=K,V=(n("034f"),Object(_["a"])(Q,s,r,!1,null,null,null)),Z=V.exports;o["a"].config.productionTip=!1,o["a"].component("dialog-btn",w),new o["a"]({render:function(t){return t(Z)}}).$mount("#app")},5980:function(t,e,n){"use strict";var o=n("af5d"),s=n.n(o);s.a},"5ce1":function(t,e,n){"use strict";var o=n("398e"),s=n.n(o);s.a},"85ec":function(t,e,n){},9405:function(t,e,n){"use strict";var o=n("2624"),s=n.n(o);s.a},"9dac":function(t,e,n){},af5d:function(t,e,n){}});
//# sourceMappingURL=app.e61d5480.js.map